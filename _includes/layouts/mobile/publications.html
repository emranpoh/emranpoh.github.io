<div class="mobile-publications mobile-section" id="publications">
    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
        <h2 style="margin-bottom: 0; font-size: 1rem; font-weight: normal; text-transform: lowercase;">publications</h2>
        <div style="display: flex; gap: 0.5rem;">
            {% assign sorted_pubs = site.data.pubs | sort: "year" | reverse %}
            {% for pub in sorted_pubs %}
                <div style="width: 0.75rem; height: 0.75rem; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; opacity: {% if forloop.index > 3 %}0.2{% else %}1{% endif %};">{{ pub.emoji }}</div>
            {% endfor %}
        </div>
    </div>
    <div style="display: flex; flex-direction: column; gap: 0.75rem;">
        {% assign sorted_publications = site.data.pubs | sort: "year" | reverse %}
        {% for pub in sorted_publications %}
            {% assign author_list = pub.authors | split: ',' %}
            {% assign first_author = author_list[0] | strip %}
            {% if first_author contains 'Emran Poh' %}
        <div style="display: flex; flex-direction: column; background-color: #f7f7f7; border-radius: 0.5rem; border: 1px solid #e9ecef;">
            {% if pub.image %}
            <div style="border-radius: 0.5rem 0.5rem 0 0; overflow: hidden; height: 160px; border-bottom: 1px solid #e9ecef;">
                <img class="pub-image" src="{{ site.baseurl }}/assets/images/projects/{{ pub.image }}" alt="{{ pub.title }}" style="width: 100%; height: 100%; object-fit: cover; display: block; border-radius: 0.5rem 0.5rem 0 0;">
            </div>
            {% endif %}
            <div style="display: flex; flex-direction: column; padding: 1rem;">
                <a href="{{ pub.url | relative_url }}" style="text-decoration: none; color: inherit;">
                    {% if pub.venue_short and pub.year %}
                    <div style="margin: 0 0 0.75rem 0; font-size: 0.75rem; color: #888; background-color: #f0f0f0; padding: 0.25rem 0.5rem; border-radius: 0.25rem; display: inline-block; width: fit-content;">{{ pub.venue_short }} {{ pub.year }}</div>
                    {% endif %}
                    <h3 style="margin: 0 0 0.75rem 0; font-size: 1rem; font-weight: 600;">{{ pub.title }}</h3>
                    {% if pub.authors %}
                    <p style="margin: 0 0 0.5rem 0; font-size: 0.875rem; color: #666;">
                        {% assign author_list = pub.authors | split: ',' %}
                        {% assign first_author = author_list[0] | strip %}
                        {% if author_list.size > 1 %}
                            {{ first_author | split: ' ' | last }} et al.
                        {% else %}
                            {{ first_author | split: ' ' | last }}
                        {% endif %}
                    </p>
                    {% endif %}
                </a>
            </div>
        </div>
            {% endif %}
        {% endfor %}
    </div>
    <div style="display: flex; justify-content: center; margin-top: 2rem;">
        <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" style="background: none; border: none; color: #666; font-size: 1.25rem; cursor: pointer; padding: 1rem; display: flex; align-items: center; gap: 0.5rem; width: 100%; justify-content: center; background-color: #f1f3f5; border-radius: 1rem;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 1.5rem; height: 1.5rem;">
                <path d="M12 4L12 20M12 4L6 10M12 4L18 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>back to top</span>
        </button>
    </div>
</div>