<div class="mobile-publications">
    <h2 style="font-size: 1rem; margin-bottom: .25rem; font-weight: normal; text-transform: lowercase;">publications</h2>
    {% assign grouped_pubs = site.data.pubs | group_by: "year" | sort: "name" | reverse %}
    <div style="display: flex; gap: 1rem; overflow-x: auto; padding-bottom: 1rem; -webkit-overflow-scrolling: touch;">
        {% for year_group in grouped_pubs %}
        <div style="display: flex; flex-direction: column; gap: 0.25rem; min-width: max-content;">
            <p style="font-size: 0.75rem; color: #aaa; margin: 0; font-weight: 500;">{% if year_group.name.size == 4 %}{{ year_group.name | slice: -2, 2 }}{% else %}{{ year_group.name }}{% endif %}</p>
            <div style="border: 1px solid #e5e7eb; border-radius: 0.75rem; padding: 0.25rem;">
                <div style="display: flex; flex-direction: row; gap: 2vw; margin: 0;">
                    <div style="display: flex; flex-direction: column; flex-wrap: wrap; gap: 2vw; max-height: 32vw; width: 100%;">
                    {% for pub in year_group.items %}
                    <div style="min-width: max-content; height: 15vw; background-color: #f3f4f6; border-radius: 0.5rem; padding: 0.5rem; text-align: center; margin: 0; display: flex; align-items: center; justify-content: flex-start; position: relative;">
                        <span style="position: absolute; bottom: 0.25rem; right: 0.25rem; font-size: 0.75rem;">
                            {% if pub.is-collab %}ðŸ‘¥{% endif %}
                        </span>
                        <a href="{{ '/publications/' | append: pub.title | slugify | relative_url }}" style="text-decoration: none; display: flex; align-items: center; gap: 0.75rem; width: 100%; height: 100%;">
                            <span style="font-size: calc(6vw);">ðŸ“„</span>
                            <div style="display: flex; flex-direction: column; align-items: flex-start; gap: 0.125rem; min-width: 0;">
                                <span style="font-size: 0.75rem; color: #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 30vw;">{{ pub.title }}</span>
                                {% if pub.venue_short %}<span style="font-size: 0.625rem; color: #aaa; white-space: nowrap;">{{ pub.venue_short }}</span>{% endif %}
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div> 