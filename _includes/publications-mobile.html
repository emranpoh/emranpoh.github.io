<div class="mobile-publications" id="publications">
    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
        <h2 style="margin-bottom: 0; font-size: 1rem; font-weight: normal; text-transform: lowercase;">selected publications</h2>
        <div style="display: flex; gap: 0.5rem;">
            {% assign sorted_pubs = site.data.pubs | sort: "year" | reverse %}
            {% for pub in sorted_pubs %}
                <div style="width: 0.75rem; height: 0.75rem; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; opacity: {% if forloop.index > 3 %}0.2{% else %}1{% endif %};">{{ pub.emoji }}</div>
            {% endfor %}
        </div>
    </div>
    <div style="display: flex; flex-direction: column; gap: 0.75rem;">
        {% assign sorted_pubs = site.data.pubs | sort: "year" | reverse %}
        {% for pub in sorted_pubs limit:3 %}
        <div style="display: flex; flex-direction: column; gap: 0.75rem; background-color: #f1f3f5; padding: 0.75rem; border-radius: 1rem;">
            <div style="background-color: white; padding: 0.5rem; border-radius: 0.5rem;">
                <img src="{{ site.baseurl }}/assets/images/projects/{{ pub.image }}" alt="{{ pub.title }}" style="width: 100%; height: auto; border-radius: 0.5rem; object-fit: cover;">
            </div>
            <div style="display: flex; flex-direction: column; gap: 0.125rem;">
                {% assign pub_url = pub.tags[0].url %}
                <a href="{{ pub_url }}" style="text-decoration: none; color: inherit;">
                    <span lang="en" style="font-size: 0.875rem; color: #111827; font-weight: 500;">{{ pub.emoji }} {{ pub.title }}</span>
                </a>
                <span lang="en" style="font-size: 0.75rem; color: #666; font-style: italic;">{{ pub.authors | replace: "Emran Poh", "<strong>Emran Poh</strong>" }}</span>
                {% if pub.status != "submitted" %}
                    {% if pub.venue_short %}
                    <span lang="en" style="font-size: 0.75rem; color: #666;">{{ pub.venue_short }} {{ pub.year }}</span>
                    {% endif %}
                {% else %}
                    <span style="font-size: 0.75rem; color: #666;">({{ pub.status }})</span>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    <div style="display: flex; justify-content: center; margin-top: 2rem;">
        <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" style="background: none; border: none; color: #666; font-size: 1.25rem; cursor: pointer; padding: 1rem; display: flex; align-items: center; gap: 0.5rem; width: 100%; justify-content: center; background-color: #f1f3f5; border-radius: 1rem;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 1.5rem; height: 1.5rem;">
                <path d="M12 4L12 20M12 4L6 10M12 4L18 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>back to top</span>
        </button>
    </div>
</div>